Xinha.loadStyle("CharacterMap.css","CharacterMap");function CharacterMap(E){this.editor=E;var D=E.config;var C=this;D.registerButton({id:"insertcharacter",tooltip:Xinha._lc("Insert special character","CharacterMap"),image:E.imgURL("ed_charmap.gif","CharacterMap"),textMode:false,action:function(F){C.buttonPress(F)}});D.addToolbarElement("insertcharacter","createlink",-1);if(D.CharacterMap.mode=="panel"){E._CharacterMap=E.addPanel("right");Xinha._addClass(E._CharacterMap,"CharacterMap");E.notifyOn("modechange",function(G,F){if(F.mode=="text"){E.hidePanel(E._CharacterMap)}});var A=["&Yuml;","&scaron;","&#064;","&quot;","&iexcl;","&cent;","&pound;","&curren;","&yen;","&brvbar;","&sect;","&uml;","&copy;","&ordf;","&laquo;","&not;","&macr;","&deg;","&plusmn;","&sup2;","&sup3;","&acute;","&micro;","&para;","&middot;","&cedil;","&sup1;","&ordm;","&raquo;","&frac14;","&frac12;","&frac34;","&iquest;","&times;","&Oslash;","&divide;","&oslash;","&fnof;","&circ;","&tilde;","&ndash;","&mdash;","&lsquo;","&rsquo;","&sbquo;","&ldquo;","&rdquo;","&bdquo;","&dagger;","&Dagger;","&bull;","&hellip;","&permil;","&lsaquo;","&rsaquo;","&euro;","&trade;","&Agrave;","&Aacute;","&Acirc;","&Atilde;","&Auml;","&Aring;","&AElig;","&Ccedil;","&Egrave;","&Eacute;","&Ecirc;","&Euml;","&Igrave;","&Iacute;","&Icirc;","&Iuml;","&ETH;","&Ntilde;","&Ograve;","&Oacute;","&Ocirc;","&Otilde;","&Ouml;","&reg;","&times;","&Ugrave;","&Uacute;","&Ucirc;","&Uuml;","&Yacute;","&THORN;","&szlig;","&agrave;","&aacute;","&acirc;","&atilde;","&auml;","&aring;","&aelig;","&ccedil;","&egrave;","&eacute;","&ecirc;","&euml;","&igrave;","&iacute;","&icirc;","&iuml;","&eth;","&ntilde;","&ograve;","&oacute;","&ocirc;","&otilde;","&ouml;","&divide;","&oslash;","&ugrave;","&uacute;","&ucirc;","&uuml;","&yacute;","&thorn;","&yuml;","&OElig;","&oelig;","&Scaron;"];for(var B=0;B<A.length;B++){this.addEntity(A[B],B)}E.hidePanel(E._CharacterMap)}}Xinha.Config.prototype.CharacterMap={mode:"popup"};CharacterMap._pluginInfo={name:"CharacterMap",version:"2.0",developer:"Laurent Vilday",developer_url:"http://www.mokhet.com/",c_owner:"Xinha community",sponsor:"",sponsor_url:"",license:"Creative Commons Attribution-ShareAlike License"};CharacterMap._isActive=false;CharacterMap.prototype.buttonPress=function(A){var B=A.config;if(B.CharacterMap.mode=="panel"){if(this._isActive){this._isActive=false;A.hidePanel(A._CharacterMap)}else{this._isActive=true;A.showPanel(A._CharacterMap)}}else{A._popupDialog("plugin://CharacterMap/select_character",function(C){if(!C){return false}if(Xinha.is_ie){A.focusEditor()}A.insertHTML(C)},null)}};CharacterMap.prototype.addEntity=function(D,C){var A=this.editor;var E=this;var B=document.createElement("a");Xinha._addClass(B,"entity");B.innerHTML=D;B.href="javascript:void(0)";Xinha._addClass(B,(C%2)?"light":"dark");B.onclick=function(){if(Xinha.is_ie){A.focusEditor()}A.insertHTML(D);return false};A._CharacterMap.appendChild(B);B=null};