var tinyMCE=null,tinyMCELang=null;function TinyMCE_Popup(){}TinyMCE_Popup.prototype={findWin:function(w){var c;c=w;while(c&&(c=c.parent)!=null){if(typeof(c.tinyMCE)!="undefined"){return c;}}c=w;while(c&&(c=c.opener)!=null){if(typeof(c.tinyMCE)!="undefined"){return c;}}if(typeof(top.tinyMCE)!="undefined"){return top;}return null;},init:function(){var _3=window.opener?window.opener:window.dialogArguments,c;var _5,re,_7,_8;if(!_3){_3=this.findWin(window);}if(!_3){alert("tinyMCE object reference not found from popup.");return;}window.opener=_3;this.windowOpener=_3;this.onLoadEval="";tinyMCE=_3.tinyMCE;tinyMCELang=_3.tinyMCELang;_5=tinyMCE.selectedInstance;this.isWindow=tinyMCE.getWindowArg("mce_inside_iframe",false)==false;this.storeSelection=(tinyMCE.isRealIE)&&!this.isWindow&&tinyMCE.getWindowArg("mce_store_selection",true);if(this.isWindow){window.focus();}if(this.storeSelection){_5.selectionBookmark=_5.selection.getBookmark(true);}if(tinyMCELang.lang_dir){document.dir=tinyMCELang.lang_dir;}re=new RegExp("{|\\$|}","g");_7=document.title.replace(re,"");if(typeof(tinyMCELang[_7])!="undefined"){_8=document.createElement("div");_8.innerHTML=tinyMCELang[_7];document.title=_8.innerHTML;if(typeof(tinyMCE.setWindowTitle)!="undefined"){tinyMCE.setWindowTitle(window,_8.innerHTML);}}document.write("<link href=\""+tinyMCE.getParam("popups_css")+"\" rel=\"stylesheet\" type=\"text/css\">");if(tinyMCE.getParam("popups_css_add")){c=tinyMCE.getParam("popups_css_add");if(c.indexOf("://")==-1&&c.charAt(0)!="/"){c=tinyMCE.documentBasePath+"/"+c;}document.write("<link href=\""+c+"\" rel=\"stylesheet\" type=\"text/css\">");}tinyMCE.addEvent(window,"load",this.onLoad);},onLoad:function(){var _9,i,_b,_c=document.body;if(tinyMCE.getWindowArg("mce_replacevariables",true)){_c.innerHTML=tinyMCE.applyTemplate(_c.innerHTML,tinyMCE.windowArgs);}_9=tinyMCE.selectedInstance.settings.directionality;if(_9=="rtl"&&document.forms&&document.forms.length>0){_b=document.forms[0].elements;for(i=0;i<_b.length;i++){if((_b[i].type=="text"||_b[i].type=="textarea")&&_b[i].getAttribute("dir")!="ltr"){_b[i].dir=_9;}}}if(_c.style.display=="none"){_c.style.display="block";}if(tinyMCEPopup.onLoadEval!==""){eval(tinyMCEPopup.onLoadEval);}},executeOnLoad:function(_d){if(tinyMCE.isOpera){this.onLoadEval=_d;}else{eval(_d);}},resizeToInnerSize:function(){var i,_f,_10,_11,_12,_13,_14,dx,dy;if(this.isWindow&&tinyMCE.isNS71){window.resizeBy(0,10);return;}if(this.isWindow){_f=document;_10=_f.body;if(_10.style.display=="none"){_10.style.display="block";}_11=_10.style.margin;_10.style.margin="0";_12=_f.createElement("div");_12.id="mcBodyWrapper";_12.style.display="none";_12.style.margin="0";_14=_f.body.childNodes;for(i=_14.length-1;i>=0;i--){if(_12.hasChildNodes()){_12.insertBefore(_14[i].cloneNode(true),_12.firstChild);}else{_12.appendChild(_14[i].cloneNode(true));}_14[i].parentNode.removeChild(_14[i]);}_f.body.appendChild(_12);_13=document.createElement("iframe");_13.id="mcWinIframe";_13.src=document.location.href.toLowerCase().indexOf("https")==-1?"about:blank":tinyMCE.settings.default_document;_13.width="100%";_13.height="100%";_13.style.margin="0";_f.body.appendChild(_13);_13=document.getElementById("mcWinIframe");dx=tinyMCE.getWindowArg("mce_width")-_13.clientWidth;dy=tinyMCE.getWindowArg("mce_height")-_13.clientHeight;window.resizeBy(dx,dy);_10.style.margin=_11;_13.style.display="none";_12.style.display="block";}},resizeToContent:function(){var _17=(navigator.appName=="Microsoft Internet Explorer");var _18=(navigator.userAgent.indexOf("Opera")!=-1);var elm,_1a,_1b,x,y,dx,dy;if(_18){return;}if(_17){try{window.resizeTo(10,10);}catch(e){}elm=document.body;_1a=elm.offsetWidth;_1b=elm.offsetHeight;dx=(elm.scrollWidth-_1a)+4;dy=elm.scrollHeight-_1b;try{window.resizeBy(dx,dy);}catch(e){}}else{window.scrollBy(1000,1000);if(window.scrollX>0||window.scrollY>0){window.resizeBy(window.innerWidth*2,window.innerHeight*2);window.sizeToContent();window.scrollTo(0,0);x=parseInt(screen.width/2)-(window.outerWidth/2);y=parseInt(screen.height/2)-(window.outerHeight/2);window.moveTo(x,y);}}},getWindowArg:function(_20,_21){return tinyMCE.getWindowArg(_20,_21);},restoreSelection:function(){var _22;if(this.storeSelection){_22=tinyMCE.selectedInstance;_22.getWin().focus();if(_22.selectionBookmark){_22.selection.moveToBookmark(_22.selectionBookmark);}}},execCommand:function(_23,_24,_25){var _26=tinyMCE.selectedInstance;this.restoreSelection();_26.execCommand(_23,_24,_25);if(this.storeSelection){_26.selectionBookmark=_26.selection.getBookmark(true);}},close:function(){tinyMCE.closeWindow(window);},pickColor:function(e,_28){tinyMCE.selectedInstance.execCommand("mceColorPicker",true,{element_id:_28,document:document,window:window,store_selection:false});},openBrowser:function(_29,_2a,_2b){var cb=tinyMCE.getParam(_2b,tinyMCE.getParam("file_browser_callback"));var url=document.getElementById(_29).value;tinyMCE.setWindowArg("window",window);tinyMCE.setWindowArg("document",document);if(eval("typeof(tinyMCEPopup.windowOpener."+cb+")")=="undefined"){alert("Callback function: "+cb+" could not be found.");}else{eval("tinyMCEPopup.windowOpener."+cb+"(element_id, url, type, window);");}},importClass:function(c){var n;window[c]=function(){};for(n in window.opener[c].prototype){window[c].prototype[n]=window.opener[c].prototype[n];}window[c].constructor=window.opener[c].constructor;}};var tinyMCEPopup=new TinyMCE_Popup();tinyMCEPopup.init();